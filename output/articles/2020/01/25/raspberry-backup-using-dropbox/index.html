<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Mats Melander" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Raspberry, Dropbox, Technologies, " />

<meta property="og:title" content="Raspberry backup using dropbox "/>
<meta property="og:url" content="https://wlog.viltstigen.se/articles/2020/01/25/raspberry-backup-using-dropbox/" />
<meta property="og:description" content="Follow the recipe &lt;https://www.raspberrypi.org/magpi/dropbox-raspberry-pi/&gt; In Dropbox, create a new app (find the &#34;...&#34; in the right hand corner, selected Developer and Create App), choose Dropbox API (not business), select specific folder or full usage (I choose specific folder) and an app name, in my case WolfraxRPiBck …" />
<meta property="og:site_name" content="Wolfblog" />
<meta property="og:article:author" content="Mats Melander" />
<meta property="og:article:published_time" content="2020-01-25T00:00:00+01:00" />
<meta property="og:article:modified_time" content="2020-01-25T00:00:00+01:00" />
<meta name="twitter:title" content="Raspberry backup using dropbox ">
<meta name="twitter:description" content="Follow the recipe &lt;https://www.raspberrypi.org/magpi/dropbox-raspberry-pi/&gt; In Dropbox, create a new app (find the &#34;...&#34; in the right hand corner, selected Developer and Create App), choose Dropbox API (not business), select specific folder or full usage (I choose specific folder) and an app name, in my case WolfraxRPiBck …">

        <title>Raspberry backup using dropbox  · Wolfblog
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://wlog.viltstigen.se/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://wlog.viltstigen.se/theme/css/custom.css" media="screen">

        <link href="https://wlog.viltstigen.se/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Wolfblog - Full Atom Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-97010459-1', 'auto');
    ga('send', 'pageview');
</script>


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://wlog.viltstigen.se/"><span class=site-name>Wolfblog</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://wlog.viltstigen.se
                                    >Home</a>
                                </li>
                                <li ><a href="https://wlog.viltstigen.se/pages/about/">About</a></li>
                                <li ><a href="https://wlog.viltstigen.se/categories.html">Categories</a></li>
                                <li ><a href="https://wlog.viltstigen.se/tags.html">Tags</a></li>
                                <li ><a href="https://wlog.viltstigen.se/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://wlog.viltstigen.se/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://wlog.viltstigen.se/articles/2020/01/25/raspberry-backup-using-dropbox/">
                Raspberry backup using dropbox
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>Follow the recipe &lt;<a class="reference external" href="https://www.raspberrypi.org/magpi/dropbox-raspberry-pi/">https://www.raspberrypi.org/magpi/dropbox-raspberry-pi/</a>&gt;
In Dropbox, create a new app (find the &quot;...&quot; in the right hand corner, selected Developer and Create App), choose
Dropbox API (not business), select specific folder or full usage (I choose specific folder) and an app name, in my
case WolfraxRPiBck (it has to be unique wihtin DropBox community). Click on &quot;Generate access token&quot; and copy the
resulting key.</p>
<div class="highlight"><pre><span></span>$ git clone https://github.com/andreafabrizi/Dropbox-Uploader.git
$ <span class="nb">cd</span> Dropbox-Uploader/
$ chmod a+x ./dropbox_uploader.sh
$ ./dropbox_uploader.sh
 This is the first <span class="nb">time</span> you run this script, please follow the instructions:

 <span class="m">1</span><span class="o">)</span> Open the following URL in your Browser, and log in using your account: https://www.dropbox.com/developers/apps
 <span class="m">2</span><span class="o">)</span> Click on <span class="s2">&quot;Create App&quot;</span>, <span class="k">then</span> <span class="k">select</span> <span class="s2">&quot;Dropbox API app&quot;</span>
 <span class="m">3</span><span class="o">)</span> Now go on with the configuration, choosing the app permissions and access restrictions to your DropBox folder
 <span class="m">4</span><span class="o">)</span> Enter the <span class="s2">&quot;App Name&quot;</span> that you prefer <span class="o">(</span>e.g. MyUploader4177213067640<span class="o">)</span>

 Now, click on the <span class="s2">&quot;Create App&quot;</span> button.

 When your new App is successfully created, please click on the Generate button
 under the <span class="s1">&#39;Generated access token&#39;</span> section, <span class="k">then</span> copy and paste the new access token here:

 <span class="c1"># Access token: QzVDx[...]</span>

 &gt; The access token is QzVDx<span class="o">[</span>...<span class="o">]</span> Looks ok? <span class="o">[</span>y/N<span class="o">]</span>: y
   The configuration has been saved.
 $ ./dropbox_uploader.sh info
Dropbox Uploader v1.0

 &gt; Getting info...

Name:               Mats Melander
UID:                dbid:AAC...
Email:              mats.m...
Country:    SE

$ ./dropbox_uploader.sh upload README.md /
 &gt; Uploading <span class="s2">&quot;/home/pi/app/Dropbox-Uploader/README.md&quot;</span> to <span class="s2">&quot;/README.md&quot;</span>...
<span class="c1">######################################################################## 100.0%</span>
DONE
</pre></div>
<p>Edit the <cite>dropbox_uploader.sh</cite> file and change <cite>SHOW_PROGRESSBAR = 0</cite> to <cite>SHOW_PROGRESSBAR = 1</cite>
The script is ready to be used.</p>
<div class="highlight"><pre><span></span><span class="m">00</span> <span class="m">3</span>    * * <span class="m">0</span>   sh /home/pi/rpi1/app/RPiscripts/backup_dropbox.sh -f /home/pi/.dropbox_uploader &gt;&gt; /home/pi/backup_dropbox.log <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
<p>Once per week at 3:00pm upload to dropbox, the <tt class="docutils literal">backup_dropbox.sh</tt> is</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#</span>
<span class="c1"># Daily upload to Dropbox of backup files</span>
<span class="c1">#</span>
<span class="c1"># Copy everything in the /home/pi/bck/ directory to Dropbox and make a listing</span>
<span class="c1"># This script is dependent on the backup.sh script</span>
<span class="c1">#</span>

<span class="nb">echo</span> <span class="s2">&quot;-----&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Uploading to Dropbox of backup files&quot;</span>
date
<span class="nb">echo</span>

/home/pi/app/Dropbox-Uploader/dropbox_uploader.sh upload /home/pi/bck/* /RPi1_backup/
/home/pi/app/Dropbox-Uploader/dropbox_uploader.sh list /RPi1_backup/

<span class="nb">echo</span>
<span class="nb">echo</span> <span class="s2">&quot;Upload finished finished&quot;</span>
date
<span class="nb">echo</span> <span class="s2">&quot;-----&quot;</span>
</pre></div>
<p>The file <tt class="docutils literal">.dropbox_uploader</tt> is one row with the access token for Dropbox.</p>
<div class="highlight"><pre><span></span><span class="nv">OAUTH_ACCESS_TOKEN</span><span class="o">=</span>QzV<span class="o">[</span>...<span class="o">]</span>
</pre></div>



             


<script src="https://wlog.viltstigen.se/theme/applause-button/applause-button.js"></script>
<div class="applause_button">
    <applause-button url=https://wlog.viltstigen.se/articles/2020/01/25/raspberry-backup-using-dropbox/> </applause-button>
</div>

 
            
            
            






            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-01-25T00:00:00+01:00">Jan 25, 2020</time>

            <h4>Category</h4>
            <a class="category-link" href="https://wlog.viltstigen.se/categories.html#technologies-ref">Technologies</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://wlog.viltstigen.se/tags.html#dropbox-ref">Dropbox
                    <span>1</span>
</a></li>
                <li><a href="https://wlog.viltstigen.se/tags.html#raspberry-ref">Raspberry
                    <span>6</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="mailto:mats.melander@gmail.com" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mail" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#328cff"/><path d="m250 186c-46 0-69 35-69 74 0 44 29 72 68 72 43 0 73-32 73-75 0-44-34-71-72-71zm-1-37c30 0 57 13 77 33 0-22 35-22 35 1v150c-1 10 10 16 16 9 25-25 54-128-14-187-64-56-149-47-195-15-48 33-79 107-49 175 33 76 126 99 182 76 28-12 41 26 12 39-45 19-168 17-225-82-38-68-36-185 67-248 78-46 182-33 244 32 66 69 62 197-2 246-28 23-71 1-71-32v-11c-20 20-47 32-77 32-57 0-108-51-108-108 0-58 51-110 108-110" fill="#fff"/></svg>
    </a>
    <a href="https://github.com/wolfrax" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>